const searchForm = document.querySelector(".search-form-modal"), searchButton = document.querySelector(".dark-button"), adultInput = document.querySelector("[name=count-adult]"), childInput = document.querySelector("[name=count-child]"), inputs = searchForm.querySelectorAll("input"); searchForm.classList.remove("modal-show"); let isStorageSupport = !0, storageAdult = "", storageChild = "", storage = ""; try { storageAdult = localStorage.getItem("count-adult"), storageChild = localStorage.getItem("count-child") } catch (t) { isStorageSupport = !1 } function checkValidity() { let t = !0; return Array.from(inputs).forEach(e => { e.value || (e.classList.add("input-error"), t = !1) }), t } searchButton.addEventListener("click", function (t) { t.preventDefault(), searchForm.classList.toggle("modal-show"), storageAdult && (adultInput.value = storageAdult), storageChild && (childInput.value = storageChild), isStorageSupport && (localStorage.setItem("count-adult", adultInput.value), localStorage.setItem("count-child", childInput.value)), searchForm.classList.contains("modal-error") && searchForm.classList.remove("modal-error") }), searchForm.addEventListener("submit", function (t) { checkValidity() || (t.preventDefault(), searchForm.classList.add("modal-error")) }), searchForm.addEventListener("keydown", t => { const e = t.target; "INPUT" === e.tagName && e.classList.contains("input-error") && e.classList.remove("input-error") });
